package com.jefftc.viral;

import com.jefftc.engine.InputLayer;
import org.junit.Test;

import static org.junit.Assert.*;

public class MapPrinterTest {

        private static final String[] MAP = new String[] { "⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠤⢀⣤⣶⢲⣶⡶⣂⢤⣤⣤⣤⣤⢤⠒⢶⢶⢲⢢⡤",
                        "⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⡠⣄⡀⡀⣀⠀⣀⣀⢄⣶⣶⣿⠛⠉            ⠙⢹⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⢤⠒⢿⢿⢿⢿⢿⣀⣀⣀⣀⣀⡀⠀⠀⠀⣀⡀",
                        "⠀⠀⠀⠀⠀⠀⠀⢠⠒⢾⢿⢿⢿⢿⡿⢶⣶⣶⢶⢶⢶⢷⠾           ⣿⢿⣄        ⢉⠿⠿⠛⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⢤⢶⢲⢿⢶⠒⠤⡀⢀⠤⣤⣤⣤⢤⢽⠙⣻             ⠙⢿⣿⢿⢿⠙⠙⢿⢿⢿⢶⢶⢶⢶⢶⢶⠒⢤⠤⣀⡀",
                        "⠀⠀⠀⠀⡠⠛⠉⠉⢿⠙⠙                ⠛⠁⠛⠛⢤  ⡿⠃⠀⠀⠛⠘⡉⢿⠗⠛⡿⠀⠀⠀⠙⠛⠛⠁⠀⠀⠀⠀⢀⢴⠙⠁⡹                                          ⢹⡉⣽ ⠙⠙⣿⠉⠁",
                        "⠀⠀⠀⣬⠿⠛⠉⠀⠀⠀⠀⠉⠟            ⢷⠤⡀⠀⡠⠙⢿⠙⢿⢿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣶⡀⠀⠀⢹                                             ⠁⠀⣾⠙⢢",
                        "⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡰⡉              ⠻⠚⠉    ⣙⡭⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⠛⣽⣹⡦⣶                                            ⢿⣶⢄⠀⠀⠈⢿",
                        "⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣴⠁                ⣙⠛⣁⠧⠟   ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⡙                                              ⡟⠙⠈⢦",
                        "⠀⠀⠀⠀⠀⠀⠀⠀⠀⢰⠙                 ⡿⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡟⡟    ⢹⠀⠣⣿⣿⠽⡿⣿                                   ⠟⡏⠁⠀⠘⡿",
                        "⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⢿              ⢹⠛⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢈⣛⣟⢥⡉   ⠙ ⠀ ⠀⠙⠛⣻⢻⠛⢹ ⢟⠉⢶                         ⠋⠉⣿⡆⡤⣴⣿⠆",
                        "⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⢹         ⣙⠿⠙⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣴⢷⠽⣶⣶⣶⣶⣶⣶⢿⢶⢤⢿⠙⢶⢶⢶⣿⡱⠛⠿⡙⣿⡉   ⢟⣙                    ⢷⠀⠀⠀⠛",
                        "⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢻⣿    ⠟⠉⠉⠀⠀⠀ ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡠⠛                        ⣅⣻⡿⠿⠿⠿⠉⡟⠙                ⢹⣡",
                        "⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠱⢿⢿⣀⡀   ⠀⠉⠉⣿⢦⢤⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⠙                          ⡹⡿⠁⠀⠀⠀⠓⢿    ⡿⠉⠙⢿⠙     ⠋⠉⠈",
                        "⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠙⠛⢿⡻⠓⢶⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⠙                        ⡿⠛⠉⠀⠀⠀⠀⠀⠀⠀⡟ ⢹⠁⠀⠀⠀⠀⠛⡿   ⠢",
                        "⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⡟⣄⢤⡠⣿⢿⢿⢢⢤⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠻                        ⠒⡦⠀⠀⠀⠀⠀⠀⠀⠀⠈⣹⠟⠀⠀⠀⠀⠀⠀⢸⡇⠙⣿⠟",
                        "⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⠙      ⢶⢶⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠻⣙⠿⠛⠛⠁⠻⠽             ⠟⣱⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠰⣤⢱⠢",
                        "⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⢿          ⡦⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⠙          ⣻⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⢿⢪⡁⠀⣷⠉⠙⡹⡾⣷⠃⠻⢀⠤⠀⣀",
                        "⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢻⠛              ⠙⠑⠤⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⣿⣛       ⠙⢹⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⠿⣀⣈⡉⠉⠈⠟⠃⠀⠉⠁⠉⠛⢿⢿⠑⢢⢠⣻⠃",
                        "⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⠉              ⢙⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⠙       ⣹⠝⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀           ⠈⠉⠁⠉⠛",
                        "⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⢿⢿           ⠙⡏⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⢿⠙       ⠛⣹⠀⢀⠒⣿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢴⢶⠚⠙⠛⡀⢀⢿⡄",
                        "⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡟         ⢿⣹⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡟⠙      ⠙⠁⠀⠀⢿⢿⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⡠⢲⢿       ⠙⢿⡀",
                        "⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡟       ⠙⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡉⠙    ⣿⠋⠀⠀⠀⠛⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⠉           ⠙⠙⡆",
                        "⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸      ⡙⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⠙  ⠙⡿⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣸⠙ ⠙⠙⠙⢷⠙⠙    ⠙⡹⠁",
                        "⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸     ⠫⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠉⠉⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠛⠉⠉⠀⠀⠀⠀⠉⢻⠙⠙⠙⡿⠁⠀⠀⠀⠀⠀⠀⠀⡆",
                        "⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⣿  ⡟⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⡄⠟⠉",
                        "⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸  ⣷⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠐⠾⠛⠁",
                        "⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠻ ⢿", "⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀ ⠀⠀⠉⠁", };

        /**
         * Test getting a filtered map with an array of percentages
         */
        @Test
        public void getFilterMapTest() {
                assertTrue(InputLayer.compareWithList(
                                MapPrinter.getFilterMap(new double[] { 0.0, 0.0, 0.0, 0.0, 0.0, 0.0 }), MAP));
        }

        /**
         * Test getting a filtered map with an array of percentages that is too small
         */
        @Test
        public void getFilterMapTooFewPercentagesTest() {
                assertEquals(0, MapPrinter.getFilterMap(new double[] { 0.0, 0.2, 0.4 }).size());
        }

        /**
         * Test getting a filtered map with an array of percentages that is too large
         */
        @Test
        public void getFilterMapTooManyPercentagesTest() {
                assertEquals(0, MapPrinter
                                .getFilterMap(new double[] { 0.0, 0.2, 0.4, 0.6, 0.8, 1.0, 0.2, 0.4, 0.6, 0.8 })
                                .size());
        }

        /**
         * Test filtering a line with a given value
         */
        @Test
        public void filterLineTest() {
                String expected = "⠁⠒⢰";
                String actual = MapPrinter.filterLine("⠁S⢰", "S", 0.6);
                assertEquals(expected, actual);
        }

        /**
         * Test filtering a line using a value below the minimum threshold
         */
        @Test
        public void filterLineNegativeTest() {
                String expected = "⣿   ⣿ ";
                String actual = MapPrinter.filterLine("⣿  N⣿N", "N", -1.0);
                assertEquals(expected, actual);
        }

}